<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/script.js"></script>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Home Page</title>

</head>
<body>

    <div class="jumbotron">
        <h1 class="title">College Events</h1>
        <p class="title">Stay updated with organizations, events and UCF Announcements.</p>
    </div>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    <img alt="Brand" class="logo" src="images/logosm.png">
                </a>
            </div>
            <ul class="nav navbar-nav">
                <li><a href="main.html">Dashboard</a></li>
                <li><a href="#">Organizations</a></li>
                <li><a href="#">Events</a></li>
                <li><a href="aboutus.html">About Us</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#" onclick="document.getElementById('signin').style.display='block'" style="width:auto;">Sign in</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#" onclick="document.getElementById('signups').style.display='block'" style="width:auto;">Create account</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#" onclick="document.getElementById('signup').style.display='block'" style="width:auto;">super admin sign up bruh</a></li>
            </ul>
        </div>
    </nav>

    <!-- Create Account Form -->
    <div id="signups" class="modal">
      <form class="modal-content animate"> <!--Some PHP request goes here-->

        <div class="container1">
          <label><b>First</b></label>
          <input type="text" placeholder="Enter First Name" name="firstname" required>

          <label><b>Last</b></label>
          <input type="text" placeholder="Enter Last Name" name="lastname" required>

          <label><b>Student ID</b></label>
          <input type="text" placeholder="Enter Student ID" name="sid" required>

          <label><b>Email</b></label>
          <input type="text" placeholder="Enter Email" name="semail" required>

          <label><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="psw" required>

          <label><b>Confirm Password</b></label>
          <input type="password" placeholder="Confirm Password" name="pswRepeat" required>

          <button type="button" onclick="createAccount(firstname,lastname,sid, semail, psw, pswRepeat)" class="signupbtn">Sign Up</button>
          <input type="checkbox" checked="checked"> Remember me
        </div>

        <div class="container1" style="background-color:#f1f1f1">
          <button type="button" onclick="document.getElementById('signups').style.display='none'" class="cancelbtn">Cancel</button>
        </div>

      </form>
    </div>
    <!--Create Account form-->

    <!--super admin sign up-->
    <div id="signup" class="modal">
      <span onclick="document.getElementById('signup').style.display='none'" class="close" title="Close Modal">&times;</span>
      <form class="modal-content animate">
        <div class="container1">
          <label><b>Username bruhhh</b></label>
          <input type="text" placeholder="Enter Username" name="email" required>

          <label><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="suPsw" required>

          <label><b>Repeat Password</b></label>
          <input type="password" placeholder="Repeat Password" name="suPswRepeat" required>
          <input type="checkbox" checked="checked"> Remember me
          <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>

          <div class="clearfix">
            <button type="button" onclick="document.getElementById('signup').style.display='none'" class="cancelbtn">Cancel</button>
            <button type="submit" class="signupbtn">Sign Up</button>
          </div>
        </div>
      </form>
    </div>
    <!--super admin sign up-->

    <!--Sign in form-->
    <div id="signin" class="modal">
      <form class="modal-content animate" action=""> <!--Some PHP request goes here-->
        <div class="imgcontainer">
          <span onclick="document.getElementById('signin').style.display='none'" class="close" title="Close Modal">&times;</span>
          <img src="images/logo.png" alt="Avatar" class="avatar">
        </div>

        <div class="container1">
          <label><b>Student ID</b></label>
          <input type="text" placeholder="Enter Student ID" name="usid" required>

          <label><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="upsw" required>

          <button type="onclick" onclick="login(usid,upsw)" class="signupbtn">Login</button>
          <input type="checkbox" checked="checked"> Remember me
        </div>

        <div class="container1" style="background-color:#f1f1f1">
          <button type="button" onclick="document.getElementById('signin').style.display='none'" class="cancelbtn">Cancel</button>
          <span class="psw">Forgot <a href="#">password?</a></span>
        </div>

    </form>
  </div>

    <div class="container">

        <div class="left-column">
            <h3>Browse Organizations</h3>
            <div class="input-group">
        <input type="text" class="form-control" placeholder="Search for...">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button">Go!</button>
        </span>

    </div><!-- /input-group -->
                <hr>
            </div>
            <div class="right-column">

                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>
                        <p>This is some text.</p>
                        <p>This is another text.</p>

            </div>
    </div>

    <footer>
        <hr>
        <p class="copyright">
          &copy; 2017 | College Events at UCF. All Rights Reserved.
        </p>
    </footer>

</body>
</html>

<script>
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

function addSuperAdmin(user_id,password) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "addSuperAdmin.php", false);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                alert(xmlhttp.responseText);
                // myObj = JSON.parse(this.responseText);
                // document.getElementById("demo").innerHTML = myObj.name;
            }
        };
        xmlhttp.send("user_id="+user_id.value+"&password="+password.value);
      }

  function login(user_id,password) {
          var xmlhttp = new XMLHttpRequest();
          xmlhttp.open("POST", "loginDB.php", false);
          xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
          xmlhttp.onreadystatechange = function() {
              if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                  if (xmlhttp.responseText.includes("User_id")) {
                    myArr = JSON.parse(xmlhttp.responseText);
                    alert(myArr[0].Name);
                    setCookie("loggedIn","true",1);
                    setCookie("name",myArr[0].Name,1);
                    setCookie("user_id",myArr[0].User_id,1);
                    setCookie("s_email",myArr[0].S_email,1);
                  }
                  else {
                  alert(xmlhttp.responseText);
                  }
                  // myObj = JSON.parse(this.responseText);
                  // document.getElementById("demo").innerHTML = myObj.name;
              }
          };
          xmlhttp.send("user_id="+user_id.value+"&password="+password.value);
        }

function createAccount(first,last,user_id,email,password,confirmPassword) {
        if (password.value != confirmPassword.value) {
            alert("Passwords must match.");
        }
        else {
        var name = first.value + " " + last.value;
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "createAccountDB.php", true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                alert(xmlhttp.responseText);
            }
        }
        xmlhttp.send("user_id="+user_id.value+"&password="+password.value+"&name="+name+"&s_email="+email.value);
      }
      }
</script>
